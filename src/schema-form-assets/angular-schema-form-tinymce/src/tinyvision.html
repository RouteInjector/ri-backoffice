<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--<meta charset="utf-8">-->
<!--<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">-->
<!--<meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--<title>TinyVision</title>-->
<style>
    /*body {*/
    /*margin: 0 !important;*/
    /*padding: 51px 0 0 !important;*/
    /*}*/

    @-webkit-keyframes spin {
        100% {
            -webkit-transform: rotate(360deg);
        }
    }

    @-moz-keyframes spin {
        100% {
            -moz-transform: rotate(360deg);
        }
    }

    @-ms-keyframes spin {
        100% {
            -ms-transform: rotate(360deg);
        }
    }

    @-o-keyframes spin {
        100% {
            -o-transform: rotate(360deg);
        }
    }

    @keyframes spin {
        100% {
            transform: rotate(360deg);
        }
    }

    @font-face {
        font-family: 'TinyVision';
        font-style: normal;
        font-weight: normal;
        src: url(data:application/font-woff;charset=utf-8;base64,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) format("truetype");
    }

    #tinyvision .tv-icon {
        display: inline-block;
        font-family: 'TinyVision';
        font-style: normal;
        font-size: 16px;
        text-transform: none;
        font-variant: normal;
        font-weight: normal;
        line-height: 1;
        speak: none;
        vertical-align: text-bottom;
        -webkit-font-smoothing: antialiased;
    }

    #tinyvision .tv-icon-refresh:before {
        content: "\e000";
    }

    #tinyvision .tv-icon-upload:before {
        content: "\e001";
    }

    #tinyvision .tv-icon-remove:before {
        content: "\e9ac";
    }

    #tinyvision .tv-icon-folder:before {
        content: "\e931";
    }

    #tinyvision .icon-back:before {
        font-family: 'TinyVision';
        content: "\e967";
    }

    #tinyvision .tv-toolbar {
        border-bottom: 1px solid #9e9e9e;
        left: 0;
        padding: 10px;
        position: fixed;
        right: 0;
        top: 0;
        z-index: 1000;
    }

    #tinyvision .tv-toolbar-left {
        float: left;
    }

    #tinyvision .tv-toolbar-left > * {
        float: left;
        margin-right: 3px;
    }

    #tinyvision .tv-toolbar-right {
        float: right;
    }

    #tinyvision .tv-toolbar-right > * {
        float: left;
        margin-left: 3px;
    }

    #tinyvision .tv-upload .tv-icon-upload {
        margin-right: 3px;
    }

    #tinyvision .tv-search .tv-icon-search {
        cursor: text;
        left: 11px;
        position: absolute;
        top: 6px;
    }

    #tinyvision .tv-search input {
        padding-left: 35px;
        width: 200px;
    }

    #tinyvision .tv-notice {
        border: 1px solid #eee;
        color: #9e9e9e;
        display: none;
        font-size: 20px;
        margin: 15% auto 0;
        padding: 20px;
        text-align: center;
        white-space: normal;
        width: 50%;
    }

    #tinyvision .tv-items {
        list-style: none;
        margin: 10px auto;
        width: 660px;
    }

    #tinyvision .tv-item {
        float: left;
        margin: 10px;
    }

    #tinyvision .tv-item.selected .tv-item-image {
        border: 2px solid #0088cc !important;
        padding: 4px;
    }

    #tinyvision .tv-item.selected .tv-item-name {
        color: #0088cc !important;
    }

    #tinyvision .tv-item-link {
        cursor: pointer;
        display: block;
        text-decoration: none;
    }

    #tinyvision .tv-item-link:hover .tv-item-image {
        border-color: #9e9e9e;
    }

    #tinyvision .tv-item-link:hover .tv-item-name {
        color: #000;
    }

    #tinyvision .tv-item-dir {
        border: 1px solid #eee;
        height: 100px;
        line-height: 100px;
        padding: 5px;
        text-align: center;
        width: 100px;
    }

    #tinyvision .tv-item-dir span {
        max-height: 100px;
        max-width: 100px;
        min-height: 1px;
        min-width: 1px;
        vertical-align: middle;
        font-size: 70px;
        font-family: 'Glyphicons Halflings';
        color: #696969;
    }

    #tinyvision .tv-item-image {
        border: 1px solid #eee;
        height: 100px;
        line-height: 100px;
        padding: 5px;
        text-align: center;
        width: 100px;
    }

    #tinyvision .tv-item-image img {
        max-height: 100px;
        max-width: 100px;
        min-height: 1px;
        min-width: 1px;
        vertical-align: middle;
    }

    #tinyvision .tv-item-name {
        color: #9e9e9e;
        padding: 5px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        width: 100px;
    }

    .cf:before,
    .cf:after {
        content: ' ';
        display: table;
    }

    .cf:after {
        clear: both;
    }
</style>
<!--<link rel="stylesheet" href="tinyvision.css">-->
<!--</head>-->
<!--<body>-->
<div class="mce-container" id="tinyvision">
    <div class="tv-toolbar mce-panel cf">
        <div class="tv-toolbar-left">
            <div class="tv-upload mce-widget mce-btn">
                <button ng-if="isEmptyDir" type="button" ng-click="removeDir()" id="remove-dir"><span
                        class="tv-icon tv-icon-remove"></span> Remove directory
                </button>
                <button ng-if="!isEmptyDir" type="button" ng-click="removeFile()" id="remove"><span
                        class="tv-icon tv-icon-remove"></span> Remove
                </button>
            </div>
            <div class="tv-upload mce-widget mce-btn">
                <button type="button" ng-click="refresh()" id="refresh"><span
                        class="tv-icon tv-icon-refresh"></span> Refresh
                </button>
            </div>
            <div class="tv-upload mce-widget mce-btn">
                <button type="button" ng-click="openUploadModal()" id="upload"><span
                        class="tv-icon tv-icon-upload"></span> Upload
                </button>
            </div>
        </div>
        <div class="tv-toolbar-right">
            <div class="tv-search mce-widget">
                <span class="tv-icon tv-icon-search"></span>
                <input class="mce-textbox" ng-model="dir" placeholder="Directory name">
            </div>
            <div class="tv-refresh mce-widget mce-btn">
                <button type="button" id="create" ng-click="createDir(dir)"><span class="tv-icon tv-icon-folder"></span></button>
            </div>
        </div>
    </div>
    <div class="tv-notice" id="notice"></div>
    <ol class="tv-items cf" id="items">
        <li ng-if="pathStack" class="tv-item">
            <a ng-click="findByPath('..')" class="tv-item-link" title="{{name}}">
                <div class="tv-item-dir">
                    <span class="glyphicon glyphicon-folder-open" aria-hidden="true"></span>
                </div>
                <div class="tv-item-name"><span class="icon-back"></span> Back</div>
            </a>
        </li>
        <li ng-repeat="e in data.directories track by $index" class="tv-item">
            <a ng-click="findByPath(e)" class="tv-item-link" title="{{name}}">
                <div class="tv-item-dir">
                    <span class="glyphicon glyphicon-folder-close" aria-hidden="true"></span>
                </div>
                <div class="tv-item-name">{{e}}</div>
            </a>
        </li>
        <li ng-repeat="e in data.image track by $index" class="tv-item" ng-class="{'selected':selected==e}">
            <a ng-click="setSelected(e)" class="tv-item-link" title="{{e}}">
                <div class="tv-item-image">
                    <img ng-src="{{getFullPath(e)}}">
                </div>
                <div class="tv-item-name">{{e}}</div>
            </a>
        </li>
        <li ng-repeat="e in data.video track by $index" class="tv-item" ng-class="{'selected':selected==e}">
            <a ng-click="setSelected(e)" class="tv-item-link" title="{{e}}">
                <div class="tv-item-image">
                    <img ng-src="{{getFullPath(e)}}">
                </div>
                <div class="tv-item-name">{{e}}</div>
            </a>
        </li>
    </ol>
</div>
<!--&lt;!&ndash;<script src="tinyvision.min.js"></script>&ndash;&gt;-->
<!--</body>-->
<!--</html>-->
<!--MODAL FOR VALIDATION-->
<style>
    .modal {
        z-index: 15001 !important;
    }

    .modal-dialog {
        z-index: 15001 !important;
    }

    #mce-modal-block {
        z-index: 15000 !important;
    }

    .mce-floatpanel {
        z-index: 15001 !important;
    }

    #mce-modal-block .mce-panel {
        z-index: 15001 !important;
    }

    droplet {
        display: inline-block;
        z-index: 15003;
        position: relative;
        border-radius: 2px;
        width: 100%;
        height: 400px;
        background-color: rgba(255, 255, 255, .1);
        margin-top: -5px;
        padding-top: 5px;
        transition: box-shadow 0.35s;
    }

    droplet.event-dragover {
        box-shadow: inset 0 0 100px rgba(255, 255, 255, .25), inset 0 0 5px rgba(255, 255, 255, .25);
    }

    droplet ul.files {
        height: 100%;
        width: 100%;
        overflow-y: auto;
        padding: 5px;
        list-style-type: none;
        transition: all .5s;
    }

    droplet ul.files li {
        width: 100px;
        height: 100px;
        padding: 1px;
        float: left;
        position: relative;
        margin: 5px;
    }

    droplet ul.files li img.droplet-preview {
        max-width: 96px;
        background-size: cover;
        background-repeat: no-repeat;
        height: 96px;
        width: 96px;
        background-color: white;
        box-shadow: 0 0 10px rgba(0, 0, 0, .25);
        border: 1px solid white;
        display: block;
    }

    droplet ul.files li div.delete {
        background-color: rgba(0, 0, 0, .25);
        width: 50px;
        height: 50px;
        font-family: Lato, Arial, Tahoma, Helvetica, sans-serif;
        color: white;
        font-size: 25px;
        text-shadow: 1px 1px 0 rgba(0, 0, 0, .25);
        text-align: center;
        cursor: pointer;
        line-height: 50px;
        position: absolute;
        border-radius: 50%;
        z-index: 1010;
        top: 25px;
        left: 25px;
        opacity: 0;
        transition: all .30s;
        transform: scale(0.5);
    }

    droplet ul.files li:hover div.delete {
        opacity: 1;
        transform: scale(1);
    }

    droplet ul.files li div.delete:hover {
        background-color: rgba(0, 0, 0, .45);
    }

    droplet ul.files li div.size {
        background-color: rgba(255, 255, 255, .5);
        position: absolute;
        bottom: 5px;
        right: 5px;
        pointer-events: none;
        font-size: 9px;
        font-family: Lato, Arial, Tahoma, Helvetica, sans-serif;
        padding: 1px 4px;
    }
</style>
<script type="text/ng-template" id="imgUploader.html">
    <div class="modal-header">
        <h3 class="modal-title">Upload Files</h3>
    </div>
    <div class="modal-body">
        <droplet ng-model="dropletint">

            <!--<div class="loading" ng-class="{ visible: dropletint.isUploading() }">
                <svg viewBox="0 0 400 400">
                    <path class="loading-path" data-progressbar ng-model="dropletint.progress.percent"
                          d="M 0,1 L 398,1 L 398,234 L 1,234 L 0,1"
                          stroke="#D3B2D1" stroke-width="1" fill-opacity="0"
                          style="stroke-dasharray: 392px, 392px;stroke-dashoffset: 392px;"></path>
                </svg>
            </div>-->

            <section ng-show="dropletint.isUploading()">Upload done. Press Cancel button or ESC key</section>

            <ul class="files">
                <li ng-hide="dropletint.isUploading()"
                    ng-repeat="filemodel in dropletint.getFiles(dropletint.FILE_TYPES.VALID)">
                    <droplet-preview ng-model="filemodel"></droplet-preview>
                    <div class="delete" ng-click="filemodel.deleteFile()">&times;</div>
                    <div class="size">{{filemodel.file.size / 1024 / 1024 | number: 1}}MB</div>
                </li>
            </ul>
        </droplet>
    </div>
    <div class="modal-footer">
        <button class="btn btn-default" ng-click="cancel()">Cancel</button>
        <button class="btn btn-primary" ng-click="dropletint.uploadFiles()" ng-hide="dropletint.isUploading()">
            Upload files
        </button>
    </div>
</script>